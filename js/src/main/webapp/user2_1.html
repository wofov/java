<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-compatible" content="IE-Edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>javasctipt 7일차 상품 리스트 출력 및 체크박스(응용)</title>
<script src="http://192.168.100.77:8080/js/product_list.js"></script>
<script>
	function allcheck2() {
		var w=0;
		if(f.allcheck.checked==true){
		while(w<ea){
			f.pd[w].checked=true;
			w++;
		}
		}
		else{
			while(w<ea){
				f.pd[w].checked=false;
				w++;
			}
		}
	}
	
	function method2() {
		//하나라도 체크가 되어여만 전송이 됨(응용)
		f.submit();
	}
</script>
</head>
<body>
<form name="f" id="f" method="get" action="./js8.html">
<table border="1" cellpadding="0" cellspacing="0">
	<thead>
		<tr>
			<th><input type="checkbox" id="allcheck" onclick="allcheck2()"></th>
			<th>상품명</th>
			<th>가격</th>
		</tr>
	</thead>
	<tbody id="list">
	<!--  
		<tr>
			<td><input type="checkbox" name="a"></td>
			<td>상품명</td>
			<td>가격</td>
		</tr>
		-->
	</tbody>
</table>
<input type="button" value="구매하기"  onclick="method2()">
</form>
</body>
<script>
	var html=document.getElementById("list");
	var ea = product["pd_name"].length;
	var tr,td,input;
	//console.log(product["pd_name"][2][1]);
	Object.keys(product["pd_name"]).forEach(function(aa,bb,cc) {
		//console.log(aa);// > aa가 인데스 번호
		
		tr = document.createElement("tr");
		var f;
		for(f in product["pd_name"][aa]){
			
			td = document.createElement("td");
			
			//console.log(product["pd_name"][aa][f]);
			var code;
			switch(f){
				case "0": code=2;
					input = document.createElement("input");
					input.type="checkbox";
					input.name="pd";
					//input.id="pd"+bb;
					input.value=product["pd_name"][aa][code];
					td.append(input);
				break;//상품명
				case "1": code=0;
					td.append(product["pd_name"][aa][code]);
				break;//가격
				case "2": code=1;
					td.append(Number(product["pd_name"][aa][code]).toLocaleString());
				break;//고유값
			}
			
			tr.append(td);
			html.append(tr);
			
			
		}
	});
	




</script>




</html>